import React, { Component }   from 'react';
import { Link }               from 'react-router';
import { connect }            from 'react-redux'; 
import { bindActionCreators } from 'redux';
import { hideBook }           from '../../modules/active_book';
import { hideJudge}           from '../../modules/active_judge';

class Logo extends Component {

  closeEverything(){
    this.props.hideBook();
    this.props.hideJudge();
    if( typeof document !== 'undefined' ) document.getElementById("body").className = "modalClosed";
  }

  render(){
    let logoLink = (this.props.isLoggedIn) ? '/my-box' : '/';

    return(
      <div className={"logo" + ((this.props.isLoggedIn) ? ' loggedIn' : '')}>
        <Link to={logoLink} onClick={this.closeEverything.bind(this)}>
          <svg version="1.1" x="0px" y="0px" width="336.5px" height="44px" viewBox="0 0 336.5 44" enableBackground="new 0 0 336.5 44">
          <path fill="#ffffff" d="M33.527,10.623c0,4.92-3.464,6.606-8.067,7.655v0.139c4.286,0.637,7.203,3.053,7.203,6.973
            c0,6.381-5.835,9.344-12.673,9.344H5.949l0.322-1.367l4.328-0.911l5.745-27.168h-4.194c-5.652,0-8.524,2.78-8.706,5.467h0.09
            c2.097-2.046,4.194-0.453,4.194,1.326c0,1.274-1.049,2.413-2.461,2.413c-1.552,0-3.375-1.097-3.375-3.965
            c0-4.42,3.465-7.159,10.122-7.159h12.397C30.2,3.37,33.527,6.109,33.527,10.623z M19.808,32.774c4.603,0,6.564-1.412,7.566-6.156
            c1.004-4.646,0.045-7.385-5.378-7.385H18.21l-2.824,13.541H19.808z M21.085,17.503c4.876,0,6.426-1.139,7.43-5.833
            c1.002-4.74-0.456-6.337-4.333-6.337h-3.051l-2.509,12.17H21.085z"/>
          <path fill="#ffffff" d="M35.48,27.575c0-7.61,6.336-15.134,12.08-15.134c4.376,0,7.02,3.24,7.02,7.523
            c0,7.61-6.334,15.133-12.08,15.133C38.125,35.098,35.48,31.861,35.48,27.575z M49.293,23.43c0.774-2.825,1.139-4.878,1.139-6.294
            c0-2.323-1.002-3.005-2.826-3.005c-3.01,0-4.562,1.641-6.838,9.981c-0.775,2.828-1.141,4.878-1.141,6.291
            c0,2.327,1.004,3.009,2.827,3.009C45.462,33.412,47.013,31.771,49.293,23.43z"/>
          <path fill="#ffffff" d="M56.678,27.575c0-7.61,6.338-15.134,12.082-15.134c4.376,0,7.02,3.24,7.02,7.523
            c0,7.61-6.336,15.133-12.081,15.133C59.323,35.098,56.678,31.861,56.678,27.575z M70.49,23.43c0.776-2.825,1.141-4.878,1.141-6.294
            c0-2.323-1.002-3.005-2.826-3.005c-3.009,0-4.557,1.641-6.838,9.981c-0.775,2.828-1.139,4.878-1.139,6.291
            c0,2.327,1.004,3.009,2.825,3.009C66.661,33.412,68.212,31.771,70.49,23.43z"/>
          <path fill="#ffffff" d="M81.708,34.734h-4.376l7.657-28.625l-3.28-1.368l0.18-0.595L89.64,1.32h0.912L84.945,22.52
            c6.834-0.686,5.287-10.078,11.076-10.078c1.824,0,2.825,1.326,2.825,2.645c0,1.506-1.139,2.461-2.276,2.461
            c-1.598,0-2.418-1.139-2.281-2.916l-0.092-0.044c-2.05,1.548-2.186,6.471-6.242,8.25c3.052,0.273,4.876,1.822,4.876,8.843
            c0,6.938,1.85,8,4.148,8c0.867,0,1.732-0.637,2.051-1.274l-0.092-0.09c-1.778,0.412-3.054-0.637-3.054-2.053
            c0-1.094,0.911-1.957,2.143-1.957c1.321,0,2.417,1.091,2.417,2.594c0,2.509-1.642,4.376-4.651,4.376
            c-2.235,0-4.318-1.165-5.377-3.144c-1.828-3.405-1.324-9.917-1.961-12.788c-0.41-1.87-2.188-1.78-3.872-1.458L81.708,34.734z"/>
          <path fill="#ffffff" d="M108.3,28.714c0-6.088,5.069-12.105,9.663-12.105c3.503,0,5.615,2.587,5.615,6.017
            c0,6.088-5.067,12.105-9.663,12.105C110.416,34.731,108.3,32.144,108.3,28.714z M119.35,25.394c0.621-2.259,0.911-3.9,0.911-5.03
            c0-1.864-0.801-2.407-2.258-2.407c-2.409,0-3.649,1.313-5.472,7.987c-0.62,2.262-0.911,3.9-0.911,5.032
            c0,1.86,0.801,2.407,2.262,2.407C116.287,33.383,117.525,32.07,119.35,25.394z"/>
          <path fill="#ffffff" d="M126.135,18.941l0.146-0.66l3.136-0.911l0.803-3.537c1.348-5.869,5.03-7.144,7.472-7.144
            c2.812,0,3.977,1.528,3.977,3.388c0,1.313-0.984,2.298-2.117,2.298c-1.094,0-1.86-0.769-1.86-1.715c0-1.239,0.66-2.005,1.973-2.079
            v-0.07c-0.184-0.222-0.766-0.367-1.496-0.367c-2.079,0-3.244,1.023-3.939,3.797l-1.348,5.251h3.61l-0.402,1.748h-3.649
            l-4.336,17.212c-0.95,3.829-2.99,5.181-5.397,5.181c-2.261,0-3.503-1.133-3.503-2.7c0-1.312,0.986-2.008,1.827-2.008
            c0.874,0,1.567,0.695,1.567,1.497c0,0.984-0.767,1.641-1.823,1.715v0.074c0.326,0.145,0.692,0.18,1.275,0.18
            c1.313,0,2.263-0.618,2.625-2.259l4.377-18.892H126.135z"/>
          <path fill="#ffffff" d="M145.099,18.282l3.173-0.946l1.31-5.068h3.5l-1.348,4.926h3.938l-0.476,1.748h-3.936l-3.719,13.785
            l4.666-4.45l0.438,0.437c-4.009,5.181-4.881,6.017-6.67,6.017c-0.984,0-1.496-0.476-1.496-1.605c0-0.473,0.109-1.094,0.292-1.821
            l3.096-12.363h-2.915L145.099,18.282z"/>
          <path fill="#ffffff" d="M160.413,32.907c0-1.056,0.73-1.751,1.641-1.751c1.168,0,1.895,0.551,1.934,2.117l0.074,0.035
            c0.692-0.438,1.203-0.511,2.844-9.154c0.328-1.708,0.473-2.841,0.473-3.572c0-1.094-0.328-1.312-0.801-1.312
            c-1.06,0-3.318,1.274-6.967,7.584l-2.04,7.585h-3.501l6.127-22.898l-2.626-1.098l0.142-0.473l6.203-2.263h0.728l-3.501,13.165
            l-2.516,6.165l0.074,0.039c3.279-6.204,6.6-10.468,9.48-10.468c1.531,0,2.661,1.348,2.661,4.087c0,1.087-0.18,2.403-0.579,3.896
            c-1.825,6.712-4.926,10.139-7.732,10.139C161.252,34.731,160.413,33.965,160.413,32.907z"/>
          <path fill="#ffffff" d="M172.231,29.956c0-5.036,4.337-13.348,9.847-13.348c2.259,0,4.158,1.165,4.158,3.282
            c0,2.623-3.939,4.959-9.738,6.018c-0.402,1.677-0.586,2.985-0.586,3.974c0,2.005,0.805,2.7,2.298,2.7
            c1.68,0,2.992-1.133,5.508-4.485l0.583,0.29c-1.973,3.646-4.232,6.345-7.624,6.345C173.795,34.731,172.231,32.727,172.231,29.956z
             M176.717,25.033c5.143-1.464,6.455-3.54,6.455-5.837c0-0.804-0.405-1.239-1.094-1.239
            C180.473,17.957,178.249,19.376,176.717,25.033z"/>
          <path fill="#ffffff" d="M215.553,10.755h0.093c2.095-2.046,4.193-0.453,4.193,1.326c0,1.274-1.049,2.413-2.461,2.413
            c-1.548,0-3.373-1.097-3.373-3.965c0-4.42,3.463-7.159,10.117-7.159h9.892l0.502,22.705l13.86-22.705h10.255l-0.316,1.371
            l-3.968,0.911l-5.653,26.804l3.601,0.911l-0.319,1.367h-12.352l0.318-1.367l3.874-0.911l5.699-27.399l-17.457,28.767h-1.507
            l-1.048-28.767l-7.201,15.864c-5.651,12.447-10.667,17.145-18.419,17.145c-5.557,0-9.387-3.556-9.387-8.479
            c0-4.836,3.556-8.074,8.157-8.074c3.511,0,5.744,1.689,5.744,4.653c0,1.915-1.228,3.053-2.783,3.053c-1.454,0-2.548-1.187-2.548-2.6
            c0-1,0.682-2.551,3.005-2.642v-0.138c-1.046-0.502-2.046-0.728-3.234-0.728c-3.236,0-5.332,2.188-5.332,5.104
            c0,3.784,2.549,6.246,6.883,6.246c6.014,0,10.21-3.964,16.183-15.182l7.475-13.991h-3.785
            C218.607,5.288,215.737,8.068,215.553,10.755z"/>
          <path fill="#ffffff" d="M256.22,27.575c0-7.61,6.335-15.134,12.079-15.134c4.374,0,7.019,3.24,7.019,7.523
            c0,7.61-6.333,15.133-12.08,15.133C258.862,35.098,256.22,31.861,256.22,27.575z M270.031,23.43
            c0.776-2.825,1.139-4.878,1.139-6.294c0-2.323-1-3.005-2.825-3.005c-3.009,0-4.56,1.641-6.837,9.981
            c-0.773,2.828-1.14,4.878-1.14,6.291c0,2.327,1.004,3.009,2.825,3.009C266.202,33.412,267.752,31.771,270.031,23.43z"/>
          <path fill="#ffffff" d="M289.862,33.367c0-0.499,0.09-1.094,0.274-1.822l3.189-12.9c0.547-2.191,0.547-2.874-0.454-2.874
            c-1.323,0-3.691,1.596-8.25,9.48l-2.551,9.483h-4.38l5.013-18.689l-4.691,5.106l-0.596-0.547c4.105-6.201,6.474-8.164,7.796-8.164
            c1.368,0,2.05,1.281,1.596,3.556l-0.363,1.783l-3.057,7.704l0.09,0.045c4.105-7.749,7.796-13.087,11.397-13.087
            c1.915,0,3.147,1.142,3.147,3.694c0,1-0.229,2.233-0.637,3.739l-3.465,11.986l4.878-4.785l0.544,0.547
            c-4.827,6.654-6.018,7.475-7.475,7.475C290.544,35.098,289.862,34.686,289.862,33.367z"/>
          <path fill="#ffffff" d="M302.901,14.54l3.967-1.185l1.638-6.335h4.379l-1.689,6.152h4.924l-0.592,2.191h-4.923l-4.65,17.225
            l5.833-5.557l0.548,0.544c-5.013,6.474-6.107,7.522-8.341,7.522c-1.229,0-1.866-0.588-1.866-2.001c0-0.596,0.135-1.371,0.36-2.281
            l3.878-15.452h-3.646L302.901,14.54z"/>
          <path fill="#ffffff" d="M322.047,32.82c0-1.32,0.91-2.188,2.053-2.188c1.458,0,2.369,0.682,2.414,2.642l0.093,0.048
            c0.865-0.547,1.502-0.638,3.556-11.442c0.408-2.144,0.592-3.557,0.592-4.467c0-1.368-0.413-1.642-1.004-1.642
            c-1.319,0-4.147,1.596-8.708,9.48l-2.551,9.483h-4.377l7.662-28.625l-3.285-1.368l0.183-0.595l7.749-2.825h0.911l-4.377,16.459
            l-3.144,7.704l0.09,0.045c4.103-7.749,8.25-13.087,11.854-13.087c1.912,0,3.328,1.689,3.328,5.106c0,1.371-0.231,3.012-0.73,4.879
            c-2.278,8.389-6.156,12.671-9.663,12.671C323.096,35.098,322.047,34.142,322.047,32.82z"/>
          </svg>
        </Link>
      </div>
    );
  }
}

function mapDispatchToProps(dispatch){
  return bindActionCreators({ hideBook, hideJudge }, dispatch)
}

export default connect(mapDispatchToProps)(Logo);